{"ast":null,"code":"var _jsxFileName = \"/Users/flatironschool/Learn_co_labs/React-Flow/Front-End/src/App.js\";\nimport React, { Component, Fragment } from \"react\";\nimport \"./Stylesheets/style.scss\";\nimport ShowPanel from './Components/ShowPanel';\nimport SideBar from './Components/Sidebar';\nimport TopBar from './Components/Topbar';\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      people: [],\n      person: {},\n      name: '',\n      bio: '',\n      img: ''\n    };\n\n    this.fetchPeople = () => {\n      fetch('http://localhost:3000/people').then(res => res.json()).then(peopleObject => {\n        this.setState({\n          people: peopleObject\n        });\n      });\n    };\n\n    this.handleClick = person => {\n      // console.log('Clicked', person)\n      this.setState({\n        person: person\n      });\n    };\n\n    this.handleDelete = id => {\n      // console.log(\"Delete button clicked\", id)\n      fetch(\"http://localhost:3000/people/\".concat(id), {\n        method: 'DELETE'\n      }).then(res => {\n        const newPeople = this.state.people.filter(person => person.id !== id);\n        this.setState({\n          people: newPeople,\n          person: {}\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      // console.log('handle change', event.target.name, event.target.value)\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log('submit');\n      fetch('http://localhost:3000/people', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.name,\n          bio: this.state.bio,\n          img_url: this.state.img\n        })\n      }).then(res => res.json()).then(personObject => {\n        this.setState({\n          people: [personObject, ...this.state.people]\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchPeople();\n  }\n\n  render() {\n    console.log(this.state.name); // console.log(this.state.people)\n\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(TopBar, {\n      person: this.state.person,\n      handleChange: this.handleChange,\n      handleSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(SideBar, {\n      people: this.state.people,\n      handleClick: this.handleClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(ShowPanel, {\n      person: this.state.person,\n      handleDelete: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/flatironschool/Learn_co_labs/React-Flow/Front-End/src/App.js"],"names":["React","Component","Fragment","ShowPanel","SideBar","TopBar","App","state","people","person","name","bio","img","fetchPeople","fetch","then","res","json","peopleObject","setState","handleClick","handleDelete","id","method","newPeople","filter","handleChange","event","target","value","handleSubmit","e","preventDefault","console","log","headers","body","JSON","stringify","img_url","personObject","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\nimport \"./Stylesheets/style.scss\";\nimport ShowPanel from './Components/ShowPanel'\nimport SideBar from './Components/Sidebar'\nimport TopBar from './Components/Topbar'\n\n\nexport default class App extends Component {\n\n  state ={\n    people: [],\n    person: {},\n    name: '',\n    bio: '',\n    img: ''\n  }\n\n  fetchPeople = () => {\n    fetch('http://localhost:3000/people')\n    .then(res => res.json())\n    .then(peopleObject => {\n      this.setState({\n        people: peopleObject\n      })\n    })\n  }\n\n  componentDidMount(){\n   this.fetchPeople()\n  }\n\n  handleClick = (person) => {\n    // console.log('Clicked', person)\n    this.setState({\n      person: person\n    })\n  }\n\n  handleDelete = (id) => {\n    // console.log(\"Delete button clicked\", id)\n    fetch(`http://localhost:3000/people/${id}`,{\n      method: 'DELETE'\n    })\n    .then(res => {\n      const newPeople = this.state.people.filter( person => person.id !== id)\n      this.setState({\n        people: newPeople,\n        person: {}\n      })\n    })\n  }\n\n  handleChange =(event)=>{\n    // console.log('handle change', event.target.name, event.target.value)\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleSubmit = (e) =>{\n    e.preventDefault()\n    console.log('submit')\n    fetch('http://localhost:3000/people', {\n      method: 'POST',\n      headers: {\n        'Content-Type':'application/json',\n        'Accept':'application/json'\n      }, \n      body: JSON.stringify({\n        name: this.state.name, \n        bio: this.state.bio,\n        img_url: this.state.img\n      })\n    })\n    .then(res => res.json())\n    .then(personObject => {\n      this.setState({\n        people: [personObject, ...this.state.people],\n      })\n    })\n  }\n\n  render() {\n    \n    console.log(this.state.name)\n    // console.log(this.state.people)\n    return <Fragment>\n      <TopBar\n       person={this.state.person} \n       handleChange={this.handleChange}\n       handleSubmit={this.handleSubmit}/>\n      <SideBar people={this.state.people} \n      handleClick={this.handleClick}/>\n      <ShowPanel person={this.state.person} \n      handleDelete={this.handleDelete} />\n    </Fragment>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}